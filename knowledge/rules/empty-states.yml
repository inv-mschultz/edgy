name: Empty States
description: >
  Screens displaying collections, lists, or data-dependent content should
  handle the case when there is no data to display.

rules:
  - id: list-empty-state
    name: List/collection has no empty state
    severity: warning
    annotation_target: screen
    description: >
      This list or collection view has no visible empty state. Users need
      to see a clear message when there are zero items, ideally with a
      CTA to create their first item.
    triggers:
      pattern_types:
        - list
    exclude:
      parent_name_patterns: ["(?i)(nav|header|footer|sidebar|menu|toolbar)"]
      screen_name_patterns: ["(?i)(styleguide|design.?system|component.?library)"]
    confidence_signals:
      name_match: 0.4
      component_match: 0.3
      visual_match: 0.3
      threshold: 0.4
    finding_template:
      title: "No empty state for {{element_name}} list"
      description: "This list or collection has no visible empty state. Users with zero items will see a confusing blank area."
      recommendation: "Add an empty state card with a friendly message and a CTA to create the first item."
    expects:
      in_screen:
        - layer_name_patterns: ["(?i)(empty|no.?items|no.?data|zero|nothing|get.?started|no.?results|blank.?state|placeholder)"]
      in_flow:
        - layer_name_patterns: ["(?i)(empty.?state|no.?items|first.?item|empty|blank)"]
    recommendation:
      message: >
        Add an empty state for this collection — show a friendly message
        explaining why it's empty and a clear action to add the first item.
      components:
        - shadcn_id: card
          label: "Empty State Card"
        - shadcn_id: button
          label: "Create First Item CTA"

  - id: table-empty-state
    name: Table/data grid has no empty state
    severity: warning
    annotation_target: screen
    description: >
      Data tables should show a clear empty state rather than an empty
      grid with headers and no rows.
    triggers:
      component_names:
        - Table
        - DataTable
        - DataGrid
    exclude:
      screen_name_patterns: ["(?i)(styleguide|design.?system|component.?library)"]
    confidence_signals:
      name_match: 0.4
      component_match: 0.4
      visual_match: 0.2
      threshold: 0.4
    finding_template:
      title: "No empty state for {{element_name}} table"
      description: "This data table has no visible empty state. Users will see empty headers with no rows and no guidance."
      recommendation: "Add an empty row message in the table body explaining there is no data yet and how to add some."
    expects:
      in_screen:
        - layer_name_patterns: ["(?i)(empty|no.?data|no.?rows|no.?results|no.?items|blank|placeholder)"]
      in_flow:
        - layer_name_patterns: ["(?i)(empty.?table|no.?data|empty.?state)"]
    recommendation:
      message: >
        Add an empty state for this table — show a message in the table
        body area explaining there's no data yet.
      components:
        - shadcn_id: table
          label: "Table with Empty Row"
        - shadcn_id: card
          label: "Empty Data Illustration"

  - id: dashboard-empty
    name: Dashboard widgets have no empty/zero state
    severity: info
    annotation_target: screen
    description: >
      Dashboard or analytics views should handle the state when there's
      no data yet (new user, no activity, fresh account).
    triggers:
      layer_name_patterns:
        - "(?i)(dashboard|analytics|overview|stats|metrics)"
    exclude:
      screen_name_patterns: ["(?i)(styleguide|design.?system|component.?library)"]
    confidence_signals:
      name_match: 0.5
      component_match: 0.2
      visual_match: 0.3
      threshold: 0.4
    finding_template:
      title: "No empty/zero state for {{element_name}} dashboard"
      description: "This dashboard has no visible empty state. New users with no data will see blank or zeroed-out widgets."
      recommendation: "Add onboarding prompts or empty state cards for each widget guiding new users to generate data."
    expects:
      in_screen:
        - layer_name_patterns: ["(?i)(empty|no.?data|getting.?started|onboard)"]
      in_flow:
        - layer_name_patterns: ["(?i)(onboarding|welcome|first.?time)"]
    recommendation:
      message: >
        Consider what new users see on this dashboard before they have data.
        Add onboarding prompts or empty state cards for each widget.
      components:
        - shadcn_id: card
          label: "Onboarding Card"
        - shadcn_id: button
          label: "Getting Started CTA"
