# Distilled from NNG skeleton screens research & Carbon Design System
# Sources: nngroup.com/articles/skeleton-screens/
#          carbondesignsystem.com/patterns/loading-pattern/
source: "NNG + Carbon Design System"
topic: "Loading States & Perceived Performance"

rules:
  - trigger:
      pattern_types: [list, data-display]
    findings:
      - id: nng_skeleton_over_spinner
        severity: warning
        condition: "screen uses spinner instead of skeleton loader"
        title: "Prefer skeleton screens over spinners"
        evidence: "NNG: 'Skeleton screens improve perceived load time by showing the page structure immediately. They feel faster than spinners because users see progressive disclosure rather than waiting on a blank page.'"
        recommendation: "Replace generic spinners with skeleton placeholders that match the content layout. Show the page structure immediately."

      - id: nng_skeleton_layout_match
        severity: info
        condition: "skeleton doesn't match actual content layout"
        title: "Skeleton should match content layout"
        evidence: "NNG: 'Skeleton screens are most effective when they closely mimic the actual content layout. Mismatched skeletons can feel disorienting.'"
        recommendation: "Design skeleton states that match the exact layout of the loaded content â€” same number of rows, same card sizes, same section structure."

  - trigger:
      pattern_types: [button]
      screen_contains: [button]
    findings:
      - id: carbon_button_loading
        severity: warning
        condition: "submit button has no loading/disabled state during async"
        title: "Button should show loading state during async action"
        evidence: "Carbon Design System: 'Buttons that trigger async operations should show an inline loading indicator and be disabled to prevent double-submission.'"
        recommendation: "Add a loading variant: show spinner inside the button, disable it, and optionally change label to 'Saving...' or 'Submitting...'."
